### توضیح درباره‌ی پسوند `.mjs`

پسوند `.mjs` برای فایل‌های جاوااسکریپت استفاده می‌شود که با استفاده از سینتکس ماژول‌های ES (ECMAScript) نوشته شده‌اند. این پسوند به منظور ایجاد تمایز واضح بین فرمت‌های CommonJS و ماژول‌های ES معرفی شده است، به‌ویژه در محیط‌هایی مانند Node.js که هر دو سیستم ماژول می‌توانند هم‌زمان وجود داشته باشند. در اینجا توضیحات مفصلی درباره‌ی `.mjs` آورده شده است:

### ویژگی‌های کلیدی `.mjs`

1. **ماژول‌های ES (ESM)**:

   - ماژول‌های ES یک سیستم ماژول استاندارد هستند که در ECMAScript 6 (ES6) معرفی شده‌اند و مدیریت و کپسوله‌سازی بهتری برای ماژول‌ها فراهم می‌کنند.
   - این ماژول‌ها از دستورات `import` و `export` برای تعریف وابستگی‌ها و نمایش قابلیت‌ها استفاده می‌کنند که کد را خواناتر و قابل نگهداری‌تر می‌سازد.

2. **سینتکس**:

   - سینتکس استفاده از ماژول‌های ES به سادگی به صورت زیر است:
     - **صادرات**: می‌توانید متغیرها، توابع یا کلاس‌ها را از یک ماژول صادر کنید.
       ```javascript
       // myModule.mjs
       export const myVariable = 42;
       export function myFunction() {
         console.log("سلام، دنیا!");
       }
       ```
     - **وارد کردن**: می‌توانید اعضای صادر شده را در یک ماژول دیگر وارد کنید.
       ```javascript
       // anotherFile.mjs
       import { myVariable, myFunction } from "./myModule.mjs";
       myFunction(); // خروجی: سلام، دنیا!
       ```

3. **پسوند فایل**:

   - پسوند `.mjs` به‌ویژه در محیط‌هایی که از هر دو سیستم CommonJS و ماژول‌های ES پشتیبانی می‌کنند، مانند Node.js، مفید است. این پسوند به زمان اجرا کمک می‌کند تا مشخص کند که چگونه باید فایل را تفسیر کند.
   - بدون این پسوند، Node.js به طور پیش‌فرض فایل‌ها را به عنوان CommonJS در نظر می‌گیرد، مگر اینکه به‌طور خاص تعیین شود.

4. **پشتیبانی Node.js**:

   - از نسخه 12 به بعد Node.js، پشتیبانی از ماژول‌های ES به تدریج بهبود یافته است. می‌توانید از پسوند `.mjs` استفاده کنید یا در فایل `package.json` خود `"type": "module"` را تنظیم کنید تا نشان دهید که فایل‌های موجود در بسته، ماژول‌های ES هستند.

5. **سازگاری با مرورگر**:
   - مرورگرهای مدرن به طور بومی از ماژول‌های ES پشتیبانی می‌کنند. می‌توانید فایل‌های `.mjs` را در HTML خود با استفاده از تگ `<script>` و ویژگی `type="module"` وارد کنید:
     ```html
     <script type="module" src="myModule.mjs"></script>
     ```

### مزایای استفاده از `.mjs`

- **وضوح**: پسوند `.mjs` وضوح بیشتری درباره فرمت ماژول مورد استفاده فراهم می‌کند که می‌تواند به جلوگیری از سردرگمی در پروژه‌هایی که از هر دو سیستم CommonJS و ماژول‌های ES استفاده می‌کنند، کمک کند.
- **درخت‌زنی (Tree Shaking)**: ماژول‌های ES از تحلیل استاتیک پشتیبانی می‌کنند که به ابزارها اجازه می‌دهد تا درخت‌زنی انجام دهند، که می‌تواند اندازه نهایی بسته را با حذف کدهای استفاده نشده کاهش دهد.
- **بارگذاری غیرهمزمان**: ماژول‌های ES می‌توانند به‌صورت غیرهمزمان بارگذاری شوند که می‌تواند عملکرد را در برنامه‌های وب بهبود بخشد.

### نتیجه‌گیری

به طور خلاصه، پسوند `.mjs` به فایل‌های جاوااسکریپت مربوط می‌شود که از سینتکس ماژول‌های ES استفاده می‌کنند. این پسوند به تمایز این فایل‌ها از ماژول‌های CommonJS کمک می‌کند و به توسعه‌دهندگان این امکان را می‌دهد تا از ویژگی‌های مدرن جاوااسکریپت مانند دستورات import/export استفاده کنند و در عین حال سازگاری را در محیط‌های مختلف مانند Node.js و مرورگرها حفظ کنند. این تمایز به‌ویژه برای حفظ کدهای واضح و قابل مدیریت در برنامه‌های جاوااسکریپت اهمیت دارد.
